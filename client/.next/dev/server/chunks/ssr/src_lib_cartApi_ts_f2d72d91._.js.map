{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/victo/OneDrive/Desktop/Tesis/client/src/lib/cartApi.ts"],"sourcesContent":["import authApi from \"./authApi\";\n\nexport interface CartItem {\n  productId: {\n    _id: string;\n    name: string;\n    description: string;\n    price: number;\n    images: string[];\n    category: string;\n    brand: string;\n    stock: number;\n    rating: number;\n    reviews: number;\n    createdAt: string;\n    updatedAt: string;\n  };\n  quantity: number;\n}\n\nexport interface CartResponse {\n  success: boolean;\n  cart: CartItem[];\n  message: string;\n}\n\nexport const getUserCart = async (): Promise<CartResponse> => {\n  try {\n    const response = await authApi.get(\"/cart\");\n    if (response.success && response.data) {\n      return {\n        success: true,\n        cart: response.data.cart || [],\n        message: response.data.message || \"Carrito recuperado exitosamente\",\n      };\n    } else {\n      return {\n        success: false,\n        cart: [],\n        message: response.error?.message || \"Error al obtener el carrito\",\n      };\n    }\n  } catch (error) {\n    console.error(\"Get cart error:\", error);\n    return {\n      success: false,\n      cart: [],\n      message: \"Error al obtener el carrito\",\n    };\n  }\n};\n\nexport const addToCart = async (\n  token: string,\n  productId: string,\n  quantity: number = 1\n): Promise<CartResponse> => {\n  try {\n    const response = await authApi.post(\"/cart\", { productId, quantity });\n    if (response.success && response.data) {\n      return {\n        success: true,\n        cart: response.data.cart || [],\n        message: response.data.message || \"Producto agregado al carrito\",\n      };\n    } else {\n      return {\n        success: false,\n        cart: [],\n        message: response.error?.message || \"Error al agregar al carrito\",\n      };\n    }\n  } catch (error) {\n    console.error(\"Add to cart error:\", error);\n    return {\n      success: false,\n      cart: [],\n      message: \"Error al agregar al carrito\",\n    };\n  }\n};\n\nexport const updateCartItem = async (\n  token: string,\n  productId: string,\n  quantity: number\n): Promise<CartResponse> => {\n  try {\n    const response = await authApi.put(\"/cart/update\", { productId, quantity });\n    if (response.success && response.data) {\n      return {\n        success: true,\n        cart: response.data.cart || [],\n        message: response.data.message || \"Carrito actualizado correctamente\",\n      };\n    } else {\n      return {\n        success: false,\n        cart: [],\n        message: response.error?.message || \"Error al actualizar el carrito\",\n      };\n    }\n  } catch (error) {\n    console.error(\"Update cart item error:\", error);\n    return {\n      success: false,\n      cart: [],\n      message: \"Error al actualizar el carrito\",\n    };\n  }\n};\n\nexport const removeFromCart = async (\n  token: string,\n  productId: string\n): Promise<CartResponse> => {\n  try {\n    const response = await authApi.delete(`/cart/${productId}`);\n    if (response.success && response.data) {\n      return {\n        success: true,\n        cart: response.data.cart || [],\n        message: response.data.message || \"Producto eliminado del carrito\",\n      };\n    } else {\n      return {\n        success: false,\n        cart: [],\n        message: response.error?.message || \"Error al eliminar del carrito\",\n      };\n    }\n  } catch (error) {\n    console.error(\"Remove from cart error:\", error);\n    return {\n      success: false,\n      cart: [],\n      message: \"Error al eliminar del carrito\",\n    };\n  }\n};\n\nexport const clearCart = async (): Promise<CartResponse> => {\n  try {\n    const response = await authApi.delete(\"/cart\");\n    if (response.success && response.data) {\n      return {\n        success: true,\n        cart: [],\n        message: response.data.message || \"Carrito vaciado exitosamente\",\n      };\n    } else {\n      return {\n        success: false,\n        cart: [],\n        message: response.error?.message || \"Error al vaciar el carrito\",\n      };\n    }\n  } catch (error) {\n    console.error(\"Clear cart error:\", error);\n    return {\n      success: false,\n      cart: [],\n      message: \"Error al vaciar el carrito\",\n    };\n  }\n};\n"],"names":[],"mappings":"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"}}]
}